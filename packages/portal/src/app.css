@import "tailwindcss";
@import "tw-animate-css";

/* ══════════════════════════════════════════════════════════════════════════════
   CONVEX AUTH PORTAL — Dark Dashboard Theme
   Warm near-black backgrounds, compact dense UI, blue accent.
   Maps to both --cp-* tokens (legacy) and shadcn CSS variables.
   ══════════════════════════════════════════════════════════════════════════════ */

:root {
	/* ── Portal design tokens ─────────────────────────────────────────────── */
	--cp-bg: rgb(30, 28, 26);
	--cp-bg-secondary: rgb(42, 40, 37);
	--cp-bg-tertiary: rgb(60, 58, 55);

	--cp-text: rgb(255, 255, 255);
	--cp-text-secondary: rgb(185, 177, 170);
	--cp-text-muted: rgb(143, 135, 128);

	--cp-border: rgba(163, 156, 148, 0.3);

	--cp-accent: rgb(99, 168, 248);
	--cp-accent-hover: rgb(143, 190, 255);

	--cp-success: rgb(134, 239, 172);
	--cp-warning: rgb(252, 211, 77);
	--cp-error: rgb(252, 165, 165);
	--cp-info: rgb(7, 191, 232);
	--cp-purple: rgb(168, 85, 247);

	--cp-hover: rgba(255, 255, 255, 0.06);
	--cp-active: rgba(255, 255, 255, 0.12);

	--cp-shadow: rgba(0, 0, 0, 0.5);

	--cp-radius-sm: 4px;
	--cp-radius-md: 6px;
	--cp-radius-lg: 8px;

	--cp-font-sans: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
	--cp-font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;

	--cp-text-xs: 10px;
	--cp-text-sm: 11px;
	--cp-text-base: 12px;
	--cp-text-md: 14px;
	--cp-text-lg: 16px;
	--cp-text-xl: 18px;

	--cp-sidebar-width: 200px;
	--cp-header-height: 48px;

	/* ── shadcn variable mappings (dark-only portal) ───────────────────── */
	--radius: 0.375rem;
	--background: var(--cp-bg);
	--foreground: var(--cp-text);
	--card: var(--cp-bg-secondary);
	--card-foreground: var(--cp-text);
	--popover: var(--cp-bg-secondary);
	--popover-foreground: var(--cp-text);
	--primary: var(--cp-accent);
	--primary-foreground: rgb(255, 255, 255);
	--secondary: var(--cp-bg-tertiary);
	--secondary-foreground: var(--cp-text-secondary);
	--muted: var(--cp-bg-tertiary);
	--muted-foreground: var(--cp-text-muted);
	--accent: var(--cp-hover);
	--accent-foreground: var(--cp-text);
	--destructive: var(--cp-error);
	--border: var(--cp-border);
	--input: var(--cp-border);
	--ring: var(--cp-accent);
	--sidebar: var(--cp-bg);
	--sidebar-foreground: var(--cp-text);
	--sidebar-primary: var(--cp-accent);
	--sidebar-primary-foreground: rgb(255, 255, 255);
	--sidebar-accent: var(--cp-hover);
	--sidebar-accent-foreground: var(--cp-text);
	--sidebar-border: var(--cp-border);
	--sidebar-ring: var(--cp-accent);
}

/* ══════════════════════════════════════════════════════════════════════════════
   TAILWIND THEME INTEGRATION
   ══════════════════════════════════════════════════════════════════════════════ */

@theme inline {
	/* Radii */
	--radius-sm: calc(var(--radius) - 4px);
	--radius-md: calc(var(--radius) - 2px);
	--radius-lg: var(--radius);
	--radius-xl: calc(var(--radius) + 4px);

	/* shadcn semantic colors */
	--color-background: var(--background);
	--color-foreground: var(--foreground);
	--color-card: var(--card);
	--color-card-foreground: var(--card-foreground);
	--color-popover: var(--popover);
	--color-popover-foreground: var(--popover-foreground);
	--color-primary: var(--primary);
	--color-primary-foreground: var(--primary-foreground);
	--color-secondary: var(--secondary);
	--color-secondary-foreground: var(--secondary-foreground);
	--color-muted: var(--muted);
	--color-muted-foreground: var(--muted-foreground);
	--color-accent: var(--accent);
	--color-accent-foreground: var(--accent-foreground);
	--color-destructive: var(--destructive);
	--color-border: var(--border);
	--color-input: var(--input);
	--color-ring: var(--ring);
	--color-sidebar: var(--sidebar);
	--color-sidebar-foreground: var(--sidebar-foreground);
	--color-sidebar-primary: var(--sidebar-primary);
	--color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
	--color-sidebar-accent: var(--sidebar-accent);
	--color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
	--color-sidebar-border: var(--sidebar-border);
	--color-sidebar-ring: var(--sidebar-ring);

	/* Portal-specific colors (kept for custom components) */
	--color-cp-bg: var(--cp-bg);
	--color-cp-bg-secondary: var(--cp-bg-secondary);
	--color-cp-bg-tertiary: var(--cp-bg-tertiary);
	--color-cp-text: var(--cp-text);
	--color-cp-text-secondary: var(--cp-text-secondary);
	--color-cp-text-muted: var(--cp-text-muted);
	--color-cp-border: var(--cp-border);
	--color-cp-accent: var(--cp-accent);
	--color-cp-accent-hover: var(--cp-accent-hover);
	--color-cp-success: var(--cp-success);
	--color-cp-warning: var(--cp-warning);
	--color-cp-error: var(--cp-error);
	--color-cp-info: var(--cp-info);
	--color-cp-purple: var(--cp-purple);
	--color-cp-hover: var(--cp-hover);
	--color-cp-active: var(--cp-active);

	/* Fonts */
	--font-sans: var(--cp-font-sans);
	--font-mono: var(--cp-font-mono);
}

/* ══════════════════════════════════════════════════════════════════════════════
   BASE STYLES
   ══════════════════════════════════════════════════════════════════════════════ */

@layer base {
	* {
		@apply border-border outline-ring/50;
	}

	html {
		background-color: var(--cp-bg);
		color: var(--cp-text);
		font-family: var(--cp-font-sans);
		font-size: var(--cp-text-md);
		line-height: 1.5;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
	}

	body {
		@apply bg-background text-foreground;
		margin: 0;
		min-height: 100dvh;
	}

	/* Scrollbar — thin, matches theme */
	::-webkit-scrollbar { width: 6px; height: 6px; }
	::-webkit-scrollbar-track { background: transparent; }
	::-webkit-scrollbar-thumb { background: var(--cp-bg-tertiary); border-radius: 3px; }
	::-webkit-scrollbar-thumb:hover { background: var(--cp-text-muted); }
}

/* ══════════════════════════════════════════════════════════════════════════════
   COMPONENT UTILITIES
   ══════════════════════════════════════════════════════════════════════════════ */

@layer components {
	.cp-skeleton {
		background: linear-gradient(90deg, var(--cp-bg-secondary) 25%, var(--cp-bg-tertiary) 50%, var(--cp-bg-secondary) 75%);
		background-size: 200% 100%;
		animation: shimmer 1.5s ease-in-out infinite;
		border-radius: var(--cp-radius-sm);
	}

	@keyframes shimmer {
		0% { background-position: 200% 0; }
		100% { background-position: -200% 0; }
	}
}
